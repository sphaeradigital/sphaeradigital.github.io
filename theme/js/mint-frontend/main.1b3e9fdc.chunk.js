(this["webpackJsonpmint-frontend"]=this["webpackJsonpmint-frontend"]||[]).push([[0],{216:function(e,t){},266:function(e,t,n){"use strict";n.r(t);var a=n(145),i=n(12),s=n.n(i),r=n(111),o=n.n(r),u=n(123),p=n(66),d=n(281),c=n(191),l=n(193),y=n(0),b=n.n(y),m=n(185),f=n(150),h=n(72),j=n(101),v=n(151),T=n(44);n(153);var x,O=function(e,t,n){var a="https://etherscan.io";switch(n){case 3:a="https://ropsten.etherscan.io";break;case 42:a="https://kovan.etherscan.io";break;case 4:a="https://rinkeby.etherscan.io";break;case 5:a="https://goerli.etherscan.io"}return"tx"===t?"".concat(a,"/tx/").concat(e):"address"===t?"".concat(a,"/address/").concat(e):void console.error('getEtherscanLink should be provided either "tx" or "address" as the type')},g=h.utils.parseEther("0.05"),w=n(15),M=["Standby","AwaitingWalletConfirmation","TransactionPending","MetadataPending","Success"],k=function(e,t){return M.indexOf(e.state)>M.indexOf(t)},I=function(){var e=Object(f.a)(b.a.mark((function e(t,n,a){var i,s,r,o,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.queryFilter(t.filters.Minted(n));case 2:i=e.sent,console.log({events:i}),s=Object(m.a)(i),e.prev=5,s.s();case 7:if((r=s.n()).done){e.next=14;break}if((o=r.value).transactionHash!==a){e.next=12;break}return u=o.args.token_id,e.abrupt("return",u.toNumber());case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),s.e(e.t0);case 19:return e.prev=19,s.f(),e.finish(19);case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[5,16,19,22]])})));return function(t,n,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(p.useEthers)(),t=e.activateBrowserWallet,n=e.account,a=e.library,s=e.chainId,r=Object(p.useEtherBalance)(n),o=Object(i.useState)({state:"Standby",error:null}),u=Object(l.a)(o,2),d=u[0],c=u[1];return Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)("div",{className:"button-container",children:!n&&Object(w.jsx)("button",{className:"button",onClick:function(){return t()},children:"Connect your wallet"})}),Object(w.jsx)("div",{children:n&&s&&a&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("ul",{className:"divided",children:[Object(w.jsxs)("li",{children:["Your account: ",n]}),Object(w.jsxs)("li",{children:["Ether balance: ",r?"\u039e".concat(h.utils.formatEther(r)):"loading..."]})]}),Object(w.jsx)(v.b,{initialValues:{},onSubmit:function(){var e=Object(f.a)(b.a.mark((function e(t,i){var r,o,u,p,d,l,y,m,f;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.setSubmitting,e.prev=1,o=a.getSigner(),u=new j.a("0x7951359E9d7B28C1a60f8FA2747B2A5Fa2D38f57",'[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"token_id","type":"uint256"}],"name":"Minted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"MAX_PER_ADDRESS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TOKEN_LIMIT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseTokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"entriesPerAddress","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"}],"name":"mintOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"_to","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"transferPayments","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]',o),c({state:"AwaitingWalletConfirmation"}),e.next=7,u.mint(n,{value:g});case 7:return p=e.sent,d=p.hash,c({state:"TransactionPending",transactionHash:d}),e.next=12,p.wait();case 12:console.log({transactionResponse:p}),c({state:"MetadataPending",transactionHash:d});case 14:return e.next=17,new Promise((function(e){return setTimeout(e,2e3)}));case 17:return e.next=19,I(u,n,d);case 19:if(null===(l=e.sent)){e.next=22;break}return e.abrupt("break",24);case 22:e.next=14;break;case 24:c({state:"Success",transactionHash:d,tokenId:l}),r(!1),e.next=34;break;case 28:e.prev=28,e.t0=e.catch(1),console.error({exception:e.t0}),T.a(new Error(e.t0.message),{extra:{exception:e.t0}}),m="MetaMask Tx Signature: User denied transaction signature."===e.t0.message?"Transaction was rejected.":(null===(y=e.t0.error)||void 0===y?void 0:y.message)?"Minting transaction failed: ".concat(null===(f=e.t0.error)||void 0===f?void 0:f.message):e.t0.receipt&&e.t0.receipt.transactionHash?'\n                                            Minting transaction\n                                            <a href="'.concat(O(e.t0.receipt.transactionHash,"tx",s),'">').concat(e.t0.receipt.transactionHash,"</a>\n                                            failed.\n                                        "):"Minting transaction failed.",c({state:"Standby",error:m});case 34:case"end":return e.stop()}}),e,null,[[1,28]])})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){e.submitForm;var t=e.isSubmitting;return Object(w.jsxs)(v.a,{children:["Success"!==d.state&&Object(w.jsx)("p",{children:Object(w.jsx)("button",{className:"button",type:"submit",disabled:t,children:t?"Minting...":"Mint sphaera.digital for \u039e".concat(h.utils.formatEther(g))})}),Object(w.jsxs)("ul",{className:"divided",children:["Standby"===d.state&&d.error&&Object(w.jsx)("li",{children:Object(w.jsx)("div",{className:"error",dangerouslySetInnerHTML:{__html:d.error}})}),"AwaitingWalletConfirmation"===d.state&&Object(w.jsx)("li",{children:"\u23f3 Please confirm the transaction in MetaMask..."}),k(d,"AwaitingWalletConfirmation")&&Object(w.jsx)("li",{children:"\u2714 Transaction confirmed in MetaMask"}),"TransactionPending"===d.state&&Object(w.jsxs)("li",{children:["\u23f3 Mint transaction is pending..."," ",Object(w.jsx)("a",{href:O(d.transactionHash,"tx",s),target:"_blank",rel:"noreferrer noopener",children:"View on Etherscan"})]}),k(d,"TransactionPending")&&Object(w.jsxs)("li",{children:["\u2714 Token successfully minted!"," ",Object(w.jsx)("a",{href:O(d.transactionHash,"tx",s),target:"_blank",rel:"noreferrer noopener",children:"View on Etherscan"})]}),"MetadataPending"===d.state&&Object(w.jsx)("li",{children:"\u23f3 Awaiting map reveal..."}),k(d,"MetadataPending")&&Object(w.jsx)("li",{children:"\u2714 Map revealed!"})]}),"Success"===d.state&&Object(w.jsxs)("div",{children:[Object(w.jsx)("header",{children:Object(w.jsxs)("h4",{children:["Congratulations! You have minted a sphaera.digital map #",d.tokenId]})}),Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-4 col-12-small",children:Object(w.jsxs)("section",{className:"box",children:[Object(w.jsx)("div",{className:"image featured",children:Object(w.jsx)("img",{src:"",alt:""})}),Object(w.jsx)("p",{children:Object(w.jsx)("a",{href:"#",children:"Tweet this"})})]})})})]})]})}})]})})]})},E=function(e){return Object(w.jsx)(A,{})},S=Object(u.b)((function(e){return{}}),{})(E),_=n(54),N=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_LEFT_MENU":return t.visible;default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_ACCOUNT":return t.account;default:return e}},P=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DARK_MODE":return t.active;default:return e}},R=Object(_.combineReducers)({showLeftMenu:N,activeAccount:C,darkMode:P}),F=n(152),H=n(188),B=n.n(H),U=n(189),D=n.n(U),W=n(190),L={key:"root",storage:D.a,blacklist:[],stateReconciler:B.a},V=Object(F.a)(L,R),Y=Object(_.createStore)(V,Object(W.composeWithDevTools)()),K=Y,J=(Object(F.b)(Y),K),q={readOnlyChainId:p.ChainId.Rinkeby,readOnlyUrls:(x={},Object(a.a)(x,p.ChainId.Mainnet,"https://mainnet.infura.io/v3/".concat("YOUR_INFURA_KEY_HERE")),Object(a.a)(x,p.ChainId.Rinkeby,"https://rinkeby.infura.io/v3/".concat("91d76215de474856ba7a9226e85d95fd")),x)};d.a({dsn:"https://6bd766ad581a4c58b5953b49f91b71f1@o1080836.ingest.sentry.io/6087297",integrations:[new c.a.BrowserTracing],tracesSampleRate:1}),o.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(u.a,{store:J,children:Object(w.jsx)(p.DAppProvider,{config:q,children:Object(w.jsx)(S,{})})})}),document.getElementById("root"))}},[[266,1,2]]]);
//# sourceMappingURL=main.1b3e9fdc.chunk.js.map